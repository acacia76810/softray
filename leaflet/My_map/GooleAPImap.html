<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>My map</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBjsTIU83-VWhK-yu4-LyZmRrZahUc1YTw&callback=initMap" async defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
  <script src="lib/jquery-3.2.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
<link rel="stylesheet" href="lib/css/font-awesome.min.css">
<script src="lib/jquery-3.2.1.min.js"></script>
<script src="data/mapdata.geojson"></script>
<style type="text/css" >
#map{height:550px;width: 100%;}
h3:hover{
  cursor: url(lib/images/spotlight-poi.png);
}
</style>
</head>
<body>
<h3><i class="fa fa-map" aria-hidden="true" style="margin-left:50px;"> My Google map</i></h3>
<div class="card-panel  blue " style="margin-bottom:3px;">
  <a id="AddMarker_norm" class="waves-effect waves-light btn hoverable tooltipped  " data-position="top" data-delay="50" data-tooltip="Add maker on map"><i class="fa fa-map-marker" aria-hidden="true"></i></a>
</div>
<div id="map"></div>
<script>
// GLOBAL VARIABLE DECLERATION
var AddMarkerBtn=false;



function initMap() {
      // Create a map object and specify the DOM element for display. ///19.810273304074766, 72.74979650974274
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 19.803794, lng: 72.745998},
          zoom: 8
        });
        // var uluru = {lat: 19.803794, lng: 72.745998};
            google.maps.event.addListener(map,"click", function (event) {
            var latitude = event.latLng.lat();
            var longitude = event.latLng.lng();
            console.log( latitude + ', ' + longitude );
            if(AddMarkerBtn){
                var marker = new google.maps.Marker({
                  position: {lat: latitude, lng: longitude},
                  map: map,
                  icon:{
                          url: 'https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi.png',
                          origin: new google.maps.Point(0, 0),
                          anchor: new google.maps.Point(0, 0)
                      }
                });
            }




        });

}

$(document).ready(function(){
  $("#AddMarker_norm").on("click",function(){
    AddMarkerBtn=!AddMarkerBtn;
    console.log(AddMarkerBtn);
    $("#AddMarker_norm").toggleClass( 'red' ,'accent-2');
      if(AddMarkerBtn){
        $('*').css( 'cursor', 'url(lib/images/spotlight-poi.png), auto' );
      }else {
        $('*').css( 'cursor', 'default' );
      }
  });

});

</script>
</body>
</html>
